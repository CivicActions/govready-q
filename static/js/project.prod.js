"use strict";jQuery(document).ready(function(n){n("#state_change").select2(),n("#type_change").select2();var t=0;n("li.usa-sidenav__item a").each(function(){"implemented"===n(this).data("status")&&++t}),n(".usa-step-indicator__current-step").text(t),n("#control-next").click(function(t){t.preventDefault();var e=n("#narrative-form"),a=n(this).attr("href");n.ajax({url:"/controls/smt/_save/",method:"POST",data:e.serialize()}).done(function(t){window.location=a})}),n("#control-save").click(function(t){t.preventDefault();var e=n("#narrative-form");n.ajax({url:"/controls/smt/_save/",method:"POST",data:e.serialize()}).done(function(t){window.location.reload()})}),n("#control-delete").click(function(t){var e,a;t.preventDefault(),confirm("Delete statement?")&&(e=n("#narrative-form"),a=(a=n("#control-next").attr("href"))||"/controls/"+n("#system_id").val()+"/component/"+n("#producer_element_id").val(),n.ajax({url:"/controls/smt/_delete/",method:"POST",data:e.serialize()}).done(function(t){window.location=a}))})});